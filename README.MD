# ğŸ› ï¸ Node.js Microservices Boilerplate with Docker Compose

A **production-ready** microservices template built with **Node.js**, **Express**, and **MongoDB**, following **clean architecture** principles.  
Designed for developers who want **scalable microservice-based architecture** with **API Gateway**, **Docker Compose**, and **service-to-service communication**.

---

## ğŸ“¸ Project Architecture Overview

![Architecture Diagram](./architecture.png) <!-- Replace with your actual image path -->

---

## ğŸ“ Folder Structure

### **User Service (`/user-service`)**
- `/src` â€“ Main source directory  
  - `/api` â€“ API routes and controllers for user operations  
  - `/jobs` â€“ Scheduled jobs or background tasks related to users  
  - `/utils` â€“ Utility/helper functions for user service  
  - `/validators` â€“ Input validation logic for user requests  
  - `/services` â€“ Business logic and database interaction for users  
- `package.json` â€“ Dependencies and scripts for user service  

---

### **Posts Service (`/posts-service`)**
- `/src` â€“ Main source directory  
  - `/api` â€“ API routes and controllers for post operations  
  - `/jobs` â€“ Scheduled jobs or background tasks related to posts  
  - `/utils` â€“ Utility/helper functions for post service  
  - `/validators` â€“ Input validation logic for post requests  
  - `/services` â€“ Business logic and database interaction for posts  
- `package.json` â€“ Dependencies and scripts for posts service  

---

### **API Gateway (`/api-gateway`)**
- `/src` â€“ Main source directory for gateway logic  
  - `/api` â€“ Routing for incoming requests to microservices  
  - `/middlewares` â€“ Authentication, rate limiting, logging, and security middlewares  
  - `/utils` â€“ Helper functions used across the gateway  
- `package.json` â€“ Dependencies and scripts for API gateway  

---

### **Root Files**
- `docker-compose.yml` â€“ Docker Compose configuration to orchestrate all services

---

## ğŸš€ Features

### ğŸ§© Microservices
- **User Service** â€“ Handles user registration, login, and user-related data.
- **Post Service** â€“ Manages posts, linking them to their authors.
- **API Gateway** â€“ Single entry point for all requests.

### ğŸ” API Gateway
- Authentication
- Rate Limiting
- Centralized Logging
- Routes requests to appropriate services

### ğŸ”„ Service-to-Service Communication
- Internal API calls using **Docker networking** (secure, no public exposure)
- Example: Fetch a userâ€™s posts directly from the **Post Service**
- Example: Fetch post author data from **User Service**

---

## ğŸ—„ï¸ Tech Stack
- **Node.js** + **Express**
- **MongoDB** (Mongoose ODM)
- **Docker** + **Docker Compose**
- **REST API** + **Internal API calls**
- **JWT Authentication**
- **Rate Limiting**
- **Service Layer Architecture**

---

## ğŸ“Œ Why This Architecture?

1. **Scalability** â€“ Each service is independent and can be deployed separately.
2. **Security** â€“ API Gateway handles authentication and rate limiting.
3. **Flexibility** â€“ Swap out or scale services without affecting others.
4. **Maintainability** â€“ Clear folder structure and separation of concerns.

---

## ğŸ§ª Available APIs

### **User Service**
- `POST /users/register` â†’ Register new user
- `POST /users/login` â†’ User login
- `GET /users/:id` â†’ Get user by ID (with posts via internal call)
- `POST /users/usersByIds` â†’ Get users by IDS

### **Post Service**
- `POST /posts` â†’ Create new post
- `GET /posts/:id` â†’ Get post by ID (with user data via internal call)
- `GET /posts` â†’ Get all posts (pagination + search)
- `POST /posts/betByIds` â†’ Get all posts by ids

---

## ğŸš€ Getting Started

### 1ï¸âƒ£ Clone the repository
```bash
git clone https://github.com/yourusername/nodejs-microservices-boilerplate.git
cd nodejs-microservices-boilerplate
```

### 2ï¸âƒ£ Start all services with Docker Compose
``` 
docker-compose up --build
```

## ğŸ“¦ Docker Compose Highlights
- All services run on an isolated internal Docker network  
- **API Gateway** is the only service exposed to the outside world  
- Services communicate securely via **service name** using Docker DNS  

---

## ğŸ’¡ Use Cases
- Learning microservices architecture  
- Building scalable backend systems  
- Practicing service-to-service API calls  
- Deploying secure APIs with Docker Compose  

---

## ğŸ” Keywords
`nodejs-microservices` `docker-compose` `api-gateway` `nodejs-best-practices` `microservice-architecture` `secure-api` `mongodb-aggregation` `rest-api-template`

---

## ğŸ™Œ Contributing
Feel free to fork, improve, and contribute to this template.  
Pull requests are welcome!
